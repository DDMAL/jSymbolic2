<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
	<title>Feature Explanations: Chords and Vertical Intervals</title>
</head>

<body text="#000000" bgcolor="#e4e4e4" link="#0033C4" vlink="#0033C4" alink="#0033C4">
<a name="Top"></a>

<table cellspacing="0" cellpadding="4" width="100%" bgcolor="#0033C4" border="0">
  <tbody><tr>
      <th align="left"><font face="Arial" color="#ffffff" size="+3">Feature Explanations: Chords and Vertical Intervals</font></th>
    </tr></tbody>
</table>

<p><strong>GENERAL NOTES</strong></p>

<p>Chords in general, and tonal harmony in particular, are the areas that have typically received the most attention in traditional Western analytical systems. It is essential to point out that the existing theoretical frameworks based on tonal harmony do not apply to many kinds of music, as they were developed primarily with respect to Western classical music. As a consequence, most of the chord-based features proposed as part of the jSymbolic feature library are not based on harmonic function, and emphasize instead basic statistical information about the vertical intervals between pitches that sound simultaneously. Having recognized this, it is once again important to recall that features are useful simply if they help to differentiate between classes statistically, even if they are inspired by theoretical assumptions that do not apply to some of the music under consideration. There are therefore certain features in the jSymbolic catalogue that make use of certain basic concepts that are specific to Western harmonic theory.</p>
<p>Two new histograms are proposed as intermediate data structures for calculating chord-based structures. The first, called a <strong>vertical interval histogram</strong>, consists of bins associated with different vertical intervals and labeled with the number of semitones in the corresponding interval. The magnitude of each bin is found by going through a recoding MIDI  tick by MIDI tick and noting all vertical intervals that are sounding at each tick, as well as the MIDI velocities of the pair of notes involved in each vertical interval. This is done exhaustively, so that multiple vertical intervals will be noted per tick if there are more than two pitches sounding simultaneously. The histogram is then normalized. The end result is a histogram that indicates which vertical intervals are present, and how significant these vertical intervals are relative to one another, with a weighting based on both MIDI velocity and the aggregated durations with which each interval is held throughout the piece. This is reasonable, since long notes often have greater harmonic significance than short notes, and stressed notes tend to be more harmonically important than notes played more softly. This histogram does not incorporate any tonal assumptions, although it does require quantization into the twelve standard Western pitches (i.e. microtones are not considered). Another histogram, the <strong>wrapped vertical interval histogram</strong>, is also found: it simply consists of the vertical interval histogram wrapped by octave, such that there are 12 bins.</p>
<p>
  It is also potentially useful to have a histogram that can be used to extract features more directly related to tonal harmony, since many music classification projects do involve music based on the basic chord ontologies of Western music. A <strong>chord type histogram</strong> is generated with this need in mind. This is a normalized histogram that has bins labeled with types of chords (in the following order and with the indicated identifying codes): partial chords consisting of just two pitch classes [0], minor triads [1], major triads [2], diminished triads [3], augmented triads [4], other triads [5], minor seventh chords [6], dominant seventh chords [7], major seventh chords [8], other chords consisting of four pitch classes [9], and complex chords with more than four pitch classes [10]. The bin magnitudes are calculated by going through MIDI ticks one by one and incrementing the counter for the bin that corresponds to the chord, if any, that is present during each given tick; the result is that the chords in this histogram are weighted by the duration with which each chord is played. All inversions are treated as equivalent and octave doubling is ignored in the calculation of this histogram.</p>
<p>
  None of these histograms provide any information about arpeggiation, unfortunately, but some information related to this is collected during the melodic feature extraction. A more sophisticated system in the future could integrate vertical statistics with arpeggios, and could also collect information about inversions as well as chord transitions in order to obtain more sophisticated and accurate features. </p>
<p>
  Once again, all notes occurring on MIDI channel ten are ignored for all of the features described in this section. This is because the &quot;pitch&quot;   values on channel ten correspond to percussion instruments, not to pitches.</p>
<p><strong>JSYMBOLIC FEATURE CATALOGUE (CHORDS AND VERTICAL INTERVALS SECTION)</strong></p>
<ul>
  <li><strong>	C-1 Vertical Interval Histogram:</strong> A feature vector consisting of bin magnitudes of the vertical interval histogram described above. Each of the bins is associated with a different vertical pitch interval, and is labeled with the number of semitones in that corresponding interval. More specifically, these are numbered from 0 (a unison) to 127 (a vertical interval of 127 semitones). The magnitude of each bin is found by going through a recoding MIDI tick by MIDI tick and noting all vertical intervals that are sounding at each tick, as well as the MIDI velocities of the pair of notes involved in each vertical interval. The end result is a histogram that indicates which vertical intervals are present, and how significant these vertical intervals are relative to one another, with a weighting based on both MIDI velocity and the aggregated durations with which each interval is held throughout the piece. Finally, the histogram is normalized.</li>
  <li><strong>C-2 Wrapped Vertical Interval Histogram:</strong> A feature vector consisting of bin magnitudes of the wrapped vertical interval histogram described above. Each of the bins is associated with a different vertical pitch interval, and is labeled with the number of semitones in that corresponding interval. More specifically, these are numbered from 0 (a unison) to 11 (a vertical interval of 11 semitones). The magnitude of each bin is found by going through a recoding MIDI tick by MIDI tick and noting all vertical intervals that are sounding at each tick, as well as the MIDI velocities of the pair of notes involved in each vertical interval. Intervals larger than 11 semitones are wrapped (e.g. an octave (12 semitones) is added to the bin for unisons (0 semitones)). The end result is a histogram that indicates which vertical intervals are present, and how significant these vertical intervals are relative to one another, with a weighting based on both MIDI velocity and the aggregated durations with which each interval is held throughout the piece. Finally, the histogram is normalized.</li>
  <li><strong>C-3 Chord Type Histogram:</strong> A feature vector consisting of bin magnitudes of the chord type histogram described above. This is a normalized histogram that has bins labeled with types of chords (in the following order and with the indicated identifying codes): partial chords consisting of just two pitch classes [0], minor triads [1], major triads [2], diminished triads [3], augmented triads [4], other triads [5], minor seventh chords [6], dominant seventh chords [7], major seventh chords [8], other chords consisting of four pitch classes [9], and complex chords with more than four pitch classes [10]. The bin magnitudes are calculated by going through MIDI ticks one by one and incrementing the counter for the bin that corresponds to the chord, if any, that is present during each given tick; the result is that the chords in this histogram are weighted by the duration with which each chord is played. All inversions are treated as equivalent and octave doubling is ignored in the calculation of this histogram. Melodic behaviour is not considered, so arpeggios are not counted in this histogram.</li>
  <li><strong>C-4 Average Number of Simultaneous Pitch Classes:</strong> Average number of different pitch classes sounding simultaneously. Rests are excluded from this calculation.</li>
  <li><strong>C-5 Variability of Number of Simultaneous Pitch Classes:</strong> Standard deviation of the number of different pitch classes sounding simultaneously. Rests are excluded from this calculation.</li>
  <li><strong>C-6 Average Number of Simultaneous Pitches:</strong> Average number of pitches sounding simultaneously. Rests are excluded from this calculation. Unisons are also excluded from this calculation, but octave multiples are included in it.</li>
  <li><strong>C-7 Variability of Number of Simultaneous Pitches:</strong> Standard deviation of the number of pitches sounding simultaneously. Rests are excluded from this calculation. Unisons are also excluded from this calculation, but octave multiples are included in it.</li>
  <li><strong>C-8 Most Common Vertical Interval:</strong> The interval in semitones corresponding to the wrapped vertical interval histogram bin with the highest magnitude.</li>
  <li><strong>	C-9 Second Most Common Vertical Interval:</strong> The interval in semitones corresponding to the wrapped vertical interval histogram bin with the second highest magnitude.</li>
  <li><strong>C-10 Distance Between Two Most Common Vertical Intervals:</strong> The interval in semitones between the wrapped vertical interval histogram bins with the two most common vertical intervals.</li>
  <li><strong>C-11 Prevalence of Most Common Vertical Interval:</strong> Fraction of vertical intervals on the wrapped vertical interval histogram corresponding to the most common vertical interval.</li>
  <li><strong>C-12 Prevalence of Second Most Common Vertical Interval:</strong> Fraction of vertical intervals on the wrapped vertical interval histogram corresponding to the second most common vertical interval.</li>
  <li><strong>C-13 Prevalence Ratio of Two Most Common Vertical Intervals:</strong> Ratio between the fraction of notes corresponding to the second most common vertical interval on the wrapped vertical interval histogram and the fraction of vertical intervals corresponding to the most common vertical interval. Set to 0 if either of these prevalences are 0.</li>
  <li><strong>C-14 Vertical Unisons:</strong> Fraction of all  vertical intervals that are unisons. This is weighted by how long intervals are held (e.g. an interval lasting a whole note will be weighted four times as strongly as an interval lasting a quarter note).</li>
  <li>
<strong>	C-15 Vertical Minor Seconds:</strong> Fraction of all wrapped vertical intervals that are minor seconds. This is weighted by how long intervals are held (e.g. an interval lasting a whole note will be weighted four times as strongly as an interval lasting a quarter note).</li>
  <li><strong>C-16 Vertical Thirds:</strong> Fraction all wrapped vertical intervals that are minor or major thirds. This is weighted by how long intervals are held (e.g. an interval lasting a whole note will be weighted four times as strongly as an interval lasting a quarter note).</li>
  <li><strong>C-17 Vertical Tritones:</strong> Fraction of all wrapped vertical intervals that are tritones. This is weighted by how long intervals are held (e.g. an interval lasting a whole note will be weighted four times as strongly as an interval lasting a quarter note).</li>
  <li><strong>C-18 Vertical Perfect Fourths:</strong> Fraction of all wrapped vertical intervals that are perfect fourths. This is weighted by how long intervals are held (e.g. an interval lasting a whole note will be weighted four times as strongly as an interval lasting a quarter note).</li>
  <li><strong>C-19 Vertical Perfect Fifths:</strong> Fraction of all wrapped vertical intervals that are perfect fifths. This is weighted by how long intervals are held (e.g. an interval lasting a whole note will be weighted four times as strongly as an interval lasting a quarter note).</li>
  <li><strong>C-20 Vertical Sixths:</strong> Fraction all wrapped vertical intervals that are minor or major sixths. This is weighted by how long intervals are held (e.g. an interval lasting a whole note will be weighted four times as strongly as an interval lasting a quarter note).</li>
  <li><strong>C-21 Vertical Sevenths:</strong> Fraction all wrapped vertical intervals that are minor or major sevenths. This is weighted by how long intervals are held (e.g. an interval lasting a whole note will be weighted four times as strongly as an interval lasting a quarter note).</li>
  <li><strong>C-22 Vertical Octaves:</strong> Fraction of all wrapped vertical intervals that are octaves. This is weighted by how long intervals are held (e.g. an interval lasting a whole note will be weighted four times as strongly as an interval lasting a quarter note).</li>
  <li><strong>C-23 Perfect Vertical Intervals:</strong> Fraction of all wrapped vertical intervals that are unisons, perfect fourths, perfect fifths or octaves. This is weighted by how long intervals are held (e.g. an interval lasting a whole note will be weighted four times as strongly as an interval lasting a quarter note).</li>
  <li><strong>C-24 Vertical Dissonance Ratio:</strong> Ratio of all wrapped vertical intervals that are dissonant (2nds, tritones, and 7ths to all wrapped vertical intervals that are consonant (unisons, 3rds, 4ths, 5ths, 6ths, octaves). This is weighted by how long each of these intervals are held (e.g. an interval lasting a whole note will be weighted four times as strongly as an interval lasting a quarter note). Set to 0 if there are no dissonant vertical intervals or no consonant vertical intervals.</li>
  <li><strong>C-25 Vertical Minor Third Prevalence:</strong> Fraction of the music by time where at least one wrapped vertical minor third is sounding (regardless of whatever other vertical intervals may or may not be sounding at the same time). Only that part of the music where one or more pitched notes is sounding is included in this calculation (rests and sections containing only unpitched notes are ignored).</li>
  <li><strong>C-26 Vertical Major Third Prevalence:</strong> Fraction of the music by time where at least one wrapped vertical major third is sounding (regardless of whatever other vertical intervals may or may not be sounding at the same time). Only that part of the music where one or more pitched notes is sounding is included in this calculation (rests and sections containing only unpitched notes are ignored).</li>
  <li><strong>C-27 Chord Duration:</strong> Average duration a chord in units of time corresponding to the duration of an idealized quarter note. A &quot;chord&quot; here is considered to stay the same as long as no new pitch classes are added, and no pitch classes are taken away. This &quot;chord&quot; may consist of any number of pitch classes, even only one. A &quot;chord&quot; is not considered to end if it is split by one or more rests (although the rests themselves are not counted in the duration of the &quot;chord&quot;).</li>
  <li><strong>C-28 Partial Chords:</strong> Fraction of simultaneously sounding pitch groups that consist of only two pitch classes. This is weighted by how long pitch groups are held (e.g. a pitch group lasting a whole note will be weighted four times as strongly as a pitch group lasting a quarter note).</li>
  <li><strong>C-29 Standard Triads:</strong> Fraction of all simultaneously sounding pitch groups that are either major or minor triads. This is weighted by how long pitch groups are held (e.g. a pitch group lasting a whole note will be weighted four times as strongly as a pitch group lasting a quarter note).</li>
  <li><strong>C-30 Diminished and Augmented Triads:</strong> Fraction of all simultaneously sounding pitch groups that are either diminished or augmented triads. This is weighted by how long pitch groups are held (e.g. a pitch group lasting a whole note will be weighted four times as strongly as a pitch group lasting a quarter note).</li>
  <li><strong>C-31 Dominant Seventh Chords:</strong> Fraction of all simultaneously sounding pitch groups that are dominant seventh chords. This is weighted by how long pitch groups are held (e.g. a pitch group lasting a whole note will be weighted four times as strongly as a pitch group lasting a quarter note).</li>
  <li><strong>C-32 Seventh Chords:</strong> Fraction of all simultaneously sounding pitch groups that are dominant seventh, major seventh or minor seventh chords. This is weighted by how long pitch groups are held (e.g. a pitch group lasting a whole note will be weighted four times as strongly as a pitch group lasting a quarter note).</li>
  <li><strong>C-33 Non-Standard Chords:</strong> Fraction of all simultaneously sounding pitch groups that consist of more than two pitch classes yet are not major triads, are not minor triads and are not seventh chords. This is weighted by how long pitch groups are held (e.g. a pitch group lasting a whole note will be weighted four times as strongly as a pitch group lasting a quarter note).</li>
  <li><strong>C-34 Complex Chords:</strong> Fraction of all simultaneously sounding pitch groups that contain more that four pitch classes. This is weighted by how long pitch groups are held (e.g. a pitch group lasting a whole note will be weighted four times as strongly as a pitch group lasting a quarter note). </li>
  <li><strong>C-35 Minor Major Triad Ratio:</strong> The prevalence of minor triads divided by the prevalence of major triads. This is weighted by how long the chords are held (e.g. a chord lasting a whole note will be weighted four times as strongly as a chord lasting a quarter note). Set to 0 if there are no minor triads or if there are no major triads.</li>
</ul>
<table height="5" width="100%" bgcolor="#0033C4" border="0"><tbody><tr><th></th></tr></tbody></table>
<p><tt><a href="../featureexplanations_files/featureschordsandverticalintervals.html#Top">-top of page-</a></tt></p>

</body></html>